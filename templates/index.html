<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover">
    <title>哈基米的个人站</title>

    <!-- PWA / App 通配：manifest + 图标 + 移动适配 -->
    <!-- <link rel="manifest" href="/manifest.json"> -->
    <meta name="theme-color" content="#ea868f">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="LilyXUAN">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="/images/main_icon.png">

    <!-- 字体图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS文件 - 按依赖顺序加载 -->
    <link rel="stylesheet" href="/css/main.css"> <!-- 基础变量和重置 -->
    <link rel="stylesheet" href="/css/components.css"> <!-- 通用组件 -->
    <link rel="stylesheet" href="/css/friends.css"> <!-- 友链样式 -->
    <link rel="stylesheet" href="/css/sidebar.css"> <!-- 侧边栏样式 -->
    <link rel="stylesheet" href="/css/footer.css"> <!-- 页脚样式 -->

    <style>
        /* 页面整体布局 */

        .page-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .widget-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background-color: var(--themecolor);
            border-radius: 2px;
        }

        /* 小屏时恢复传统网格布局，避免横向溢出 */
        .friend-section {
            display: block;
        }

        .friend-cards {
            display: grid;
            grid-auto-flow: row;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            width: 100%;
        }

        @media (max-width: 768px) {
            .top-nav {
                padding: 0 20px;
            }

            .main-nav {
                display: none;
            }

            .friend-cards {
                grid-template-columns: 1fr;
            }

            .sidebar {
                grid-template-columns: 1fr;
            }

            .container {
                padding: calc(var(--header-height) + 20px) 20px 20px;
            }
        }

        @media (max-width: 480px) {
            .logo-text {
                font-size: 1.2rem;
            }

            .social-links {
                gap: 10px;
            }

            .social-link,
            .theme-toggle {
                width: 35px;
                height: 35px;
            }
        }
    </style>
</head>

<body data-theme="light">
    <!-- 顶部导航栏 -->
    <nav class="top-nav">
        <div class="logo">
            <img src="/images/main_icon.png" alt="哈基米的空间" class="logo-img">
            <div class="logo-text">哈基米的个人站</div>
        </div>
        <div class="main-nav">
            <a href="/" class="nav-link active">首页&友链</a>
            <a href="/posts" class="nav-link">记录</a>
            <a href="/about" class="nav-link">关于</a>
            <a href="/license" class="nav-link">LICENSE</a>
        </div>
        <div class="nav-right">
            <div class="social-links">
                <a href="https://github.com/Li-zhienxuan" class="social-link" target="_blank" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://gitee.com/li-zhienxuan_study" class="social-link" target="_blank" title="Gitee">
                    <i class="fab fa-git-alt"></i>
                </a>
                <a href="https://space.bilibili.com/473911887" class="social-link" target="_blank" title="Bilibili">
                    <i class="fab fa-bilibili"></i>
                </a>
                <a href="mailto:Li.zhienxuan0516@gmail.com" class="social-link" title="Email">
                    <i class="far fa-envelope"></i>
                </a>
            </div>

            <button class="theme-toggle" id="theme-toggle" aria-label="切换主题">
                <i class="fas fa-moon"></i>
            </button>

            <!-- PWA 安装按钮（仅在支持时显示） -->
            <button class="theme-toggle" id="install-btn" aria-label="安装应用" style="display:none;margin-left:8px">
                <i class="fas fa-download"></i>
            </button>
        </div>
    </nav>

    <!-- 主要内容区域 -->
    <div class="container">
        <!-- 左侧内容 -->
        <main class="main-content">
            <div class="page-header">
                <img src="/images/main_icon.png" alt="作者头像" class="author-avatar">
                <div>
                    <h1 class="page-title">友链</h1>
                    <div class="page-meta">
                        <div class="meta-item">
                            <i class="far fa-calendar"></i>
                            <span id="current-time"></span>
                        </div>
                        <div class="meta-item">
                            <!-- <i class="far fa-comment"></i> -->
                            <!-- <span>1 条评论</span> -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 引入友链组件 -->
            {% include "components/friends-section.html" %}
        </main>

        <!-- 右侧边栏 -->
        <aside class="sidebar">
            <!-- <div class="sidebar-widget">
                <h3 class="widget-title">搜索</h3>
                <form class="search-form">
                    <input type="text" class="search-input" placeholder="输入关键词搜索...">
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div> -->

            <!-- 访客 IP 与天气 -->
            <div id="weather-widget" class="weather-widget" aria-live="polite">
                <div class="weather-top">
                    <div class="weather-icon" id="weather-icon">🌤️</div>
                    <div>
                        <div class="weather-location" id="weather-location">正在获取位置…</div>
                        <div class="weather-note" id="visitor-ip">IP: —</div>
                    </div>
                </div>
                <div>
                    <div>当前： <span class="weather-temp" id="weather-temp">--°C</span></div>
                    <div class="weather-note" id="weather-desc">—</div>
                </div>
            </div>
            <div class="sidebar-widget">
                <h3 class="widget-title">分类</h3>
                <div class="category-list">
                    <a href="#" class="category-item">技术</a>
                    <a href="#" class="category-item">生活</a>
                    <a href="#" class="category-item">随笔</a>

                </div>
            </div>
            <div class="sidebar-widget">
                <h3 class="widget-title">标签</h3>
                <div class="tag-list">
                </div>
            </div>
            <div class="sidebar-widget">
                <h3 class="widget-title">关于</h3>
                <p>这里是哈基米的个人站，分享技术，热爱生活</p>
            </div>
        </aside>
    </div>

    <footer class="footer"
        style="text-align: center; padding: 2rem 0; margin-top: 3rem; border-top: 1px solid #eaeaea; color: #666; font-size: 0.9rem;">
        <p>© 2025 哈基米的空间 All Rights Reserved</p>
        <p>Powered by <a href="https://www.getzola.org" target="_blank" rel="noopener"
                style="color: #7c3aed; text-decoration: none; font-weight: bold;">Zola</a> ·Theme by 哈基米</p>
        <p style="line-height: 1.6;">

        <p>本项目采用 <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="noopener"
                style="color: #2563eb; text-decoration: none; font-weight: bold;">
                GPL v3.0
            </a> 许可证发布</p>
        <!-- · 自由使用 · 修改分发 · 开源共享 -->
        </p>
        </p>
    </footer>

    <!-- JavaScript文件 - 按依赖顺序加载 -->
    <!-- <script src="/js/main.js"></script> 基础功能和交互 -->
    <script src="/js/weather.js"></script> <!-- 天气小部件功能 -->
</body>

</html>